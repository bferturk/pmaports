# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer:
#
# Preferably we build our own Android images, but this requires an insane amount of storage and hardware, so we use pre-built images by Anbox for now
pkgname=anbox-image
pkgver=2018
pkgrel=0
pkgdesc="Android image for running in Anbox"
url="https://anbox.io"
arch="x86_64 armhf aarch64"
license="GPL-3.0-only"
source="
	https://build.anbox.io/android-images/2017/06/12/android_1_armhf.img
	https://build.anbox.io/android-images/2017/08/04/android_1_arm64.img
	https://build.anbox.io/android-images/$pkgver/07/19/android_amd64.img
"
builddir="$srcdir"
options="!check"

package() {
	[ "$CARCH" = "armhf" ] && suffix="armhf.img"
	[ "$CARCH" = "aarch64" ] && suffix="arm64.img"
	[ "$CARCH" = "x86_64" ] && suffix="amd64.img"

	install -Dm644 "$srcdir"/*_$suffix \
		"$pkgdir"/var/lib/anbox/android.img
}

sha512sums="29e8c735b6d2c8d90987d7da201cbdb2533bd5bda8696861d10f58b3caacc3f66e86ce93f00f163ccd9dbb8b731bf7c767bf19eb63b3beabc834afa447670485  android_1_armhf.img
f3d717581c61d65721331d6a9c0141e91c57f631dacb6eb43c08fa41164899282e754e575cb2999cd45ea7c94c7f2700ef3e338a0b3ad25052e27da14fe00053  android_1_arm64.img
eee965a62ad266ca8447b3b202dbfc9b74227f98bbd6e736bd4d1531562cc3e0f232770e7bd2f874c8d10ecdcaa282417cd8b9d0ccfb035d6b13e64a1c1711d9  android_amd64.img"
